<style>*{box-sizing:border-box;scrollbar-width:none}body,html{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;width:100%;height:100%;margin:0;padding:0;position:relative;text-align:center;background:#222;color:#bbb}.dot-container{display:flex;flex-direction:column;width:100%;height:100%;gap:1rem;padding:1rem}.dot-status{padding:.5rem}.dot-plan{overflow-y:auto;border-radius:.25rem;max-height:100vh;text-align:left;display:flex;flex-direction:column;gap:1rem}.dot-step{background:rgba(255,255,255,.05);padding:1rem;border-radius:.25rem;transition:background-color .3s ease;display:flex;flex-direction:column;gap:1rem}.dot-step p{margin-left:1.5rem}.dot-step h3{display:flex;align-items:center;gap:1rem;margin:0}.dot-step .indicator{width:.5rem;height:.5rem;border-radius:50%;background:rgba(255,255,255,.1);transition:all .3s ease}.dot-step.executing .indicator{animation:blink 1s infinite}.dot-step.completed .indicator{background:#4a4;box-shadow:#4a4 0 0 .5rem}.dot-step h3,.dot-step p{margin:0}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes blink{0%{background:rgba(255,255,255,.5)}50%{background:#fff}100%{background:rgba(255,255,255,.5)}}.shiny-text{background:linear-gradient(to right,#4d4d4d 0,#fff 10%,#4d4d4d 20%);background-position:0;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;animation:shine 3s infinite linear;animation-fill-mode:forwards;-webkit-text-size-adjust:none}@keyframes shine{0%{background-position:-100px}100%{background-position:1000px}}</style><div class="dot-container"><div class="dot-status"></div><div class="dot-plan"></div></div><script type="module">import autoAnimate from"https://unpkg.com/@formkit/auto-animate@0.8.2/index.mjs";const elements={status:document.querySelector(".dot-status"),plan:document.querySelector(".dot-plan")},handlers={"boost.listener.event":handleBoostEvent,"dot.status":handleStatus,"dot.plan.step":handlePlanStep,"dot.step.status":handleStepStatus,"dot.step.response":handleStepResponse,"chat.completion.chunk":handleCompletionChunk},animateConfig={duration:150,easing:"ease-in-out"};async function setStatus(t){elements.status.firstElementChild&&elements.status.firstElementChild.remove();const e=document.createElement("span");e.textContent=t,elements.status.appendChild(e)}function processChunk(t){try{const e=JSON.parse(t.replace(/data: /,"")),n=e.object,s=handlers[n];s&&(console.log("Processing chunk:",e),s(e))}catch(t){console.error("Error processing chunk:",t)}}function handleCompletionChunk(t){}function handleStatus(t){setStatus(t.status)}function handlePlanStep(t){const e=document.createElement("div");e.classList.add("dot-step"),e.setAttribute("data-step-id",t.id);const n=document.createElement("h3"),s=document.createElement("div"),o=document.createElement("span");o.textContent=t.step,n.classList.add("shiny-text"),n.appendChild(s),n.appendChild(o),s.classList.add("indicator"),e.appendChild(n),elements.plan.appendChild(e),autoAnimate(e,animateConfig)}function handleStepStatus(t){document.querySelector(`.dot-step[data-step-id="${t.id}"]`).classList.add(t.status)}function handleStepResponse(t){const e=document.querySelector(`.dot-step[data-step-id="${t.id}"]`);if(e.classList.remove("executing"),e.classList.add("completed"),e.scrollIntoView({behavior:"smooth"}),e){e.querySelector("h3").classList.remove("shiny-text");const n=document.createElement("p");n.textContent=t.response,e.appendChild(n)}}function handleBoostEvent(t){handlers[t.event]?handlers[t.event](t.data):console.warn("Unknown event:",t)}function getChunkContent(t){return t.choices.map((t=>t.delta.content)).join("\n")}async function sleep(t){return new Promise((e=>setTimeout(e,t)))}async function startListening(){try{const t="<<listener_id>>",e=await fetch(`http://localhost:34131/events/${t}`,{headers:{Authorization:"Bearer sk-boost"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=e.body.getReader();for(;;){const{done:t,value:e}=await n.read();if(t){console.log("Stream complete");break}try{const t=(new TextDecoder).decode(e).split("\n\n");for(const e of t)e.trim()&&processChunk(e)}catch(t){console.error("Error processing data:",t)}}}catch(t){console.error("Error connecting to event stream:",t)}}document.addEventListener("DOMContentLoaded",(()=>{autoAnimate(elements.status,animateConfig),autoAnimate(elements.plan,animateConfig),startListening()}))</script>