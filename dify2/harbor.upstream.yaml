# Harbor Upstream Configuration for Dify
# This tells Harbor how to transform the stock Dify compose file

# Path to stock compose file (relative to this directory)
source: ./upstream/docker/docker-compose.yaml

# Prefix for all service names (api -> dify2-api)
prefix: dify2

# Services to exclude from stock compose
# We exclude nginx since Harbor handles reverse proxy differently
exclude:
  - nginx
  - certbot

# Optional: init container for any pre-startup tasks
# Dify doesn't need config merging, but we include this as an example
# init:
#   image: busybox:latest
#   script: ./scripts/init.sh
#   volumes:
#     - ./configs:/input
#     - dify2-shared:/output
